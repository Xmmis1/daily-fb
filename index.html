<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>åå¸ˆå·¥ä½œå®¤æ—¥åé¦ˆè¡¨</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
:root{
  --theme:#48bb78;   /* é»˜è®¤=çŠ¶æ€æä½³ç»¿ï¼Œåé¢ä¼šè¢« JS å®æ—¶æ¢æ‰ */
  --good:#48bb78;
  --mid:#ed8936;
  --bad:#fc8181;
  --bg:#f4f7fb;
  --card:#fff;
  --text:#222;
  --border:#dfe6eb;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",sans-serif}
body{background:var(--bg);display:flex;justify-content:center;padding:12px;font-size:13px;color:var(--text)}
.card{width:420px;background:var(--card);border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.08);overflow:hidden;transition:--theme .3s}
.header{display:flex;align-items:center;padding:14px 16px;background:var(--theme);transition:background .3s}
.header h1{font-size:17px;font-weight:600;color:#fff;letter-spacing:.5px}
.row{display:flex;align-items:center;padding:10px 16px;border-bottom:1px solid var(--border)}
.row:last-child{border-bottom:none}
.label{width:70px;font-weight:500;color:#555;font-size:13px}
input.editable,textarea.editable{border:none;outline:0;background:transparent;font-size:13px;color:var(--text);width:100%;padding:4px 6px;border-radius:4px}
input.editable:hover,textarea.editable:hover{background:#f0f5f9}
/* ä»»åŠ¡+è¿›åº¦ */
.period{background:#fafbfc}
.taskWrap{flex:1;display:flex;flex-direction:column;gap:6px}
.taskInput{font-size:12px}
.barWrap{height:18px;border-radius:9px;background:var(--border);position:relative;cursor:pointer}
.bar{height:100%;border-radius:9px;background:var(--theme);width:0%;transition:width .2s}
.percent{position:absolute;right:6px;top:50%;transform:translateY(-50%);font-size:10px;font-weight:600;color:#fff}
/* å…ƒæ°”æŒ‰é’® */
.moodSec{display:flex;align-items:center;gap:8px}
.moodBtn{width:34px;height:34px;border-radius:50%;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;transition:all .2s}
.moodBtn.active{border-color:var(--theme);transform:scale(1.1)}
/* é¼“åŠ±è¯­ */
.encourage{background:linear-gradient(135deg,#ebf4ff 0%,#e6fffa 100%);padding:12px 16px;text-align:center;font-size:13px;font-weight:600;color:var(--theme)}
/* æ€»ç»“ */
.summary textarea{min-height:50px;resize:none}
</style>
</head>
<body>
<div class="card">
  <!-- åŠ¨æ€è‰²è¡¨å¤´ -->
  <div class="header" id="header">
    <h1>åå¸ˆå·¥ä½œå®¤æ—¥åé¦ˆè¡¨</h1>
  </div>

  <!-- å­¦ç”Ÿ+æ—¥æœŸ -->
  <div class="row">
    <span class="label">å­¦ç”Ÿå§“å</span>
    <input class="editable" id="stuName" value="å¼ åŒå­¦">
  </div>
  <div class="row">
    <span class="label">æ—¥ã€€ã€€æœŸ</span>
    <input class="editable" id="date" value="">
  </div>

  <!-- åˆ°æ ¡/ç¦»æ ¡ -->
  <div class="row">
    <span class="label">åˆ°æ ¡æ—¶é—´</span>
    <input class="editable" id="inTime" value="08:30">
  </div>
  <div class="row">
    <span class="label">ç¦»æ ¡æ—¶é—´</span>
    <input class="editable" id="outTime" value="18:00">
  </div>

  <!-- ä¸Šåˆ -->
  <div class="row period">
    <span class="label">ä¸Šåˆ</span>
    <div class="taskWrap">
      <input class="editable taskInput" value="å¬åŠ›ç²¾è®² + çœŸé¢˜ Section 1">
      <div class="barWrap"><div class="bar" style="width:0%"></div><span class="percent">0%</span></div>
    </div>
  </div>

  <!-- ä¸‹åˆ -->
  <div class="row period">
    <span class="label">ä¸‹åˆ</span>
    <div class="taskWrap">
      <input class="editable taskInput" value="å†™ä½œç»“æ„è®­ç»ƒ">
      <div class="barWrap"><div class="bar" style="width:0%"></div><span class="percent">0%</span></div>
    </div>
  </div>

  <!-- æ™šä¸Š -->
  <div class="row period">
    <span class="label">æ™šä¸Š</span>
    <div class="taskWrap">
      <input class="editable taskInput" value="é˜…è¯»åŒ¹é…é¢˜æŠ€å·§">
      <div class="barWrap"><div class="bar" style="width:0%"></div><span class="percent">0%</span></div>
    </div>
  </div>

  <!-- å…ƒæ°”çŠ¶æ€ -->
  <div class="row">
    <span class="label">æ¯æ—¥å…ƒæ°”</span>
    <div class="moodSec">
      <div class="moodBtn active" data-emoji="ğŸ˜Š" data-color="#48bb78">ğŸ˜Š</div>
      <div class="moodBtn" data-emoji="ğŸ™‚" data-color="#4299e1">ğŸ™‚</div>
      <div class="moodBtn" data-emoji="ğŸ˜" data-color="#ed8936">ğŸ˜</div>
      <div class="moodBtn" data-emoji="ğŸ˜”" data-color="#fc8181">ğŸ˜”</div>
    </div>
  </div>

  <!-- è‡ªåŠ¨é¼“åŠ±è¯­ -->
  <div class="encourage" id="encourage">åŠ æ²¹ï¼æ¯ä¸€æ­¥éƒ½åœ¨è¿›æ­¥ï¼</div>

  <!-- ä»Šæ—¥æ€»ç»“ -->
  <div class="row summary">
    <span class="label">ä»Šæ—¥æ€»ç»“</span>
    <textarea class="editable" placeholder="å­¦ä¹ çŠ¶æ€ã€é—®é¢˜ã€æ”¹è¿›å»ºè®®â€¦">æ•´ä½“ä¸“æ³¨åº¦è¾ƒå¥½ï¼Œå†™ä½œé€»è¾‘éœ€ç»§ç»­å¼ºåŒ–ã€‚</textarea>
  </div>
</div>

<script>
/* 1. è‡ªåŠ¨ä»Šå¤©æ—¥æœŸ */
function setToday(){
  const d=new Date();
  document.getElementById('date').value=`${d.getFullYear()}å¹´${d.getMonth()+1}æœˆ${d.getDate()}æ—¥`;
}
setToday();

/* 2. æ‹–åŠ¨/ç‚¹å‡»è¿›åº¦æ¡ + å®æ—¶é¼“åŠ± */
document.querySelectorAll('.barWrap').forEach(bar=>{
  const inner=bar.querySelector('.bar');
  const pct=bar.querySelector('.percent');
  function setW(e){
    const r=bar.getBoundingClientRect();
    let x=(e.clientX||e.touches[0].clientX)-r.left;
    let per=Math.min(100,Math.max(0,Math.round(x/r.width*100)));
    inner.style.width=per+'%';
    pct.textContent=per+'%';
    updateEncourage();
  }
  bar.addEventListener('mousedown',()=>{document.addEventListener('mousemove',setW);document.addEventListener('mouseup',()=>document.removeEventListener('mousemove',setW),{once:true})});
  bar.addEventListener('click',setW);
});

/* 3. å…ƒæ°”çŠ¶æ€åˆ‡æ¢ + è¡¨å¤´/è¿›åº¦æ¡é¢œè‰²è”åŠ¨ */
document.querySelectorAll('.moodBtn').forEach(b=>{
  b.addEventListener('click',()=>{
    document.querySelectorAll('.moodBtn').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    const color=b.dataset.color;
    document.documentElement.style.setProperty('--theme',color);
    document.getElementById('header').style.background=color;
    updateEncourage();
  });
});

/* 4. è‡ªåŠ¨ç”Ÿæˆé¼“åŠ±è¯­ */
function updateEncourage(){
  const bars=document.querySelectorAll('.bar');
  let total=0,done=0;
  bars.forEach(b=>{const w=parseInt(b.style.width);total+=w;if(w===100)done++;});
  const avg=total/bars.length;
  const mood=document.querySelector('.moodBtn.active').dataset.emoji;
  let txt='';let em='';
  if(avg>=75&&'ğŸ˜ŠğŸ™‚'.includes(mood)){txt='å¤ªæ£’äº†ï¼ä»Šå¤©æ•ˆç‡æ‹‰æ»¡ï¼';em='ğŸ‰';}
  else if(avg>=50){txt='åšå¾—ä¸é”™ï¼Œç»§ç»­ä¿æŒï¼';em='ğŸ’ª';}
  else if(mood==='ğŸ˜”'){txt='æ²¡å…³ç³»ï¼Œæ˜å¤©ä¸€å®šä¼šæ›´å¥½ï¼';em='ğŸŒˆ';}
  else{txt='åŠ æ²¹ï¼æ¯ä¸€æ­¥éƒ½åœ¨è¿›æ­¥ï¼';em='ğŸŒŸ';}
  document.getElementById('encourage').innerHTML=`<span style="margin-right:4px">${em}</span>${txt}`;
}
/* åˆå§‹åŒ– */
updateEncourage();
</script>
</body>
</html>